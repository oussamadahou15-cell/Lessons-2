<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ูุญูุธุฉ ุฏุฑูุณู</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@300;400;600;700;900&family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;600;700&family=Abril+Fatface&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body class="rtl" data-lang="ar">

  <!-- ===== LOADING SCREEN ===== -->
  <div id="loading-screen">
    <div class="loader-inner">
      <div class="loader-logo">๐</div>
      <div class="loader-text">ูุญูุธุฉ ุฏุฑูุณู</div>
      <div class="loader-bar"><div class="loader-fill"></div></div>
    </div>
  </div>

  <!-- ===== TOAST NOTIFICATIONS ===== -->
  <div id="toast-container"></div>

  <!-- ===== NAVIGATION ===== -->
  <nav id="main-nav">
    <div class="nav-inner">
      <div class="nav-logo" onclick="showPage('home')">
        <span class="logo-icon">๐</span>
        <span class="logo-text" data-i18n="appName">ูุญูุธุฉ ุฏุฑูุณู</span>
      </div>
      <div class="nav-center" id="nav-links">
        <a href="#" class="nav-link" onclick="showPage('home')" data-i18n="home">ุงูุฑุฆูุณูุฉ</a>
        <a href="#" class="nav-link" id="nav-subjects" onclick="showPage('subjects')" data-i18n="subjects" style="display:none">ุงูููุงููุณ</a>
        <a href="#" class="nav-link" id="nav-lessons" onclick="showPage('lessons')" data-i18n="lessons" style="display:none">ุงูุฏุฑูุณ</a>
        <a href="#" class="nav-link" id="nav-chat" onclick="showPage('chat')" data-i18n="aiChat" style="display:none">ุงูุฐูุงุก ุงูุงุตุทูุงุนู</a>
        <a href="#" class="nav-link" id="nav-calc" onclick="showPage('calculator')" data-i18n="calculator" style="display:none">ุงูุญุงุณุจุฉ</a>
        <a href="#" class="nav-link" id="nav-admin" onclick="showPage('admin')" data-i18n="admin" style="display:none">ุงูุฅุฏุงุฑุฉ</a>
        <a href="#" class="nav-link" onclick="showPage('about')" data-i18n="about">ุญูู ุงููุดุฑูุน</a>
      </div>
      <div class="nav-actions">
        <!-- Language Switcher -->
        <div class="lang-switcher">
          <button class="lang-btn active" onclick="setLang('ar')">ุน</button>
          <button class="lang-btn" onclick="setLang('en')">EN</button>
          <button class="lang-btn" onclick="setLang('fr')">FR</button>
        </div>
        <!-- Dark Mode Toggle -->
        <button class="theme-toggle" onclick="toggleTheme()" title="ุชุจุฏูู ุงููุถุน">
          <span id="theme-icon">๐</span>
        </button>
        <!-- Auth Buttons -->
        <div id="auth-nav-btns">
          <button class="btn btn-outline-sm" onclick="showPage('login')" data-i18n="login">ุฏุฎูู</button>
          <button class="btn btn-primary-sm" onclick="showPage('register')" data-i18n="register">ุญุณุงุจ ุฌุฏูุฏ</button>
        </div>
        <div id="user-nav" style="display:none">
          <div class="user-avatar-nav" onclick="toggleUserMenu()">
            <span id="user-initial">ุฃ</span>
            <div id="user-dropdown" class="user-dropdown">
              <div class="user-info-drop">
                <span id="user-email-drop"></span>
              </div>
              <a href="#" onclick="showPage('profile')"><span>๐ค</span> <span data-i18n="profile">ุงูููู ุงูุดุฎุตู</span></a>
              <a href="#" onclick="logout()"><span>๐ช</span> <span data-i18n="logout">ุชุณุฌูู ุงูุฎุฑูุฌ</span></a>
            </div>
          </div>
        </div>
        <!-- Hamburger -->
        <button class="hamburger" id="hamburger" onclick="toggleMobileMenu()">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>
    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
      <a href="#" class="mobile-link" onclick="showPage('home');closeMobileMenu()" data-i18n="home">ุงูุฑุฆูุณูุฉ</a>
      <a href="#" class="mobile-link mobile-auth-hidden" onclick="showPage('subjects');closeMobileMenu()" data-i18n="subjects">ุงูููุงููุณ</a>
      <a href="#" class="mobile-link mobile-auth-hidden" onclick="showPage('lessons');closeMobileMenu()" data-i18n="lessons">ุงูุฏุฑูุณ</a>
      <a href="#" class="mobile-link mobile-auth-hidden" onclick="showPage('chat');closeMobileMenu()" data-i18n="aiChat">ุงูุฐูุงุก ุงูุงุตุทูุงุนู</a>
      <a href="#" class="mobile-link mobile-auth-hidden" onclick="showPage('calculator');closeMobileMenu()" data-i18n="calculator">ุงูุญุงุณุจุฉ</a>
      <a href="#" class="mobile-link" onclick="showPage('about');closeMobileMenu()" data-i18n="about">ุญูู ุงููุดุฑูุน</a>
      <div class="mobile-auth-btns" id="mobile-auth-btns">
        <button class="btn btn-outline" onclick="showPage('login');closeMobileMenu()" data-i18n="login">ุฏุฎูู</button>
        <button class="btn btn-primary" onclick="showPage('register');closeMobileMenu()" data-i18n="register">ุญุณุงุจ ุฌุฏูุฏ</button>
      </div>
    </div>
  </nav>

  <!-- ===== PAGES WRAPPER ===== -->
  <main id="app">

    <!-- HOME PAGE -->
    <div id="page-home" class="page active">
      <div class="hero-section">
        <div class="hero-bg">
          <div class="hero-orb orb1"></div>
          <div class="hero-orb orb2"></div>
          <div class="hero-orb orb3"></div>
          <div class="hero-grid"></div>
        </div>
        <div class="hero-content">
          <div class="hero-badge">
            <span>๐</span>
            <span data-i18n="heroBadge">ููุตุฉ ุชุนููููุฉ ูุชูุงููุฉ</span>
          </div>
          <h1 class="hero-title">
            <span data-i18n="heroTitle1">ูุญูุธุฉ</span>
            <span class="highlight" data-i18n="heroTitle2">ุฏุฑูุณู</span>
          </h1>
          <p class="hero-sub" data-i18n="heroSub">ูุธูู ุฏุฑูุณูุ ุงุฑูุน ูููุงุชูุ ูุชูุงุตู ูุน ุงูุฐูุงุก ุงูุงุตุทูุงุนู โ ูู ูุง ุชุญุชุงุฌู ูู ููุงู ูุงุญุฏ</p>
          <div class="hero-owner">
            <div class="owner-card">
              <div class="owner-avatar">ุฏุฃ</div>
              <div class="owner-info">
                <span class="owner-name">ุฏุญู ุฃุณุงูุฉ</span>
                <span class="owner-uni" data-i18n="university">ุฌุงูุนุฉ ุงููุนุงูุฉ</span>
              </div>
            </div>
          </div>
          <div class="hero-actions">
            <button class="btn btn-hero-primary" onclick="showPage('register')">
              <span data-i18n="startFree">ุงุจุฏุฃ ูุฌุงูุงู</span>
              <span class="btn-arrow">โ</span>
            </button>
            <button class="btn btn-hero-outline" onclick="showPage('login')">
              <span data-i18n="login">ุชุณุฌูู ุงูุฏุฎูู</span>
            </button>
          </div>
          <div class="hero-stats">
            <div class="stat">
              <span class="stat-num">โ</span>
              <span class="stat-label" data-i18n="statFiles">ูููุงุช ุจูุง ุญุฏูุฏ</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat">
              <span class="stat-num">3</span>
              <span class="stat-label" data-i18n="statLangs">ูุบุงุช</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat">
              <span class="stat-num">AI</span>
              <span class="stat-label" data-i18n="statAI">ุฐูุงุก ุงุตุทูุงุนู</span>
            </div>
          </div>
        </div>
        <div class="hero-visual">
          <div class="floating-cards">
            <div class="fc fc1">๐ <span>ููู PDF</span></div>
            <div class="fc fc2">๐ฅ <span>ููุฏูู</span></div>
            <div class="fc fc3">๐ค <span>AI Chat</span></div>
            <div class="fc fc4">๐ <span>PPT</span></div>
            <div class="fc fc5">๐ต <span>ุตูุช</span></div>
          </div>
        </div>
      </div>

      <!-- Features Section -->
      <section class="features-section">
        <div class="section-header">
          <h2 data-i18n="featuresTitle">ูููุฒุงุช ุงูููุตุฉ</h2>
          <p data-i18n="featuresSub">ูู ูุง ุชุญุชุงุฌู ูุชูุธูู ุญูุงุชู ุงูุฏุฑุงุณูุฉ</p>
        </div>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon" style="background: var(--grad-blue)">๐</div>
            <h3 data-i18n="feat1Title">ุฅุฏุงุฑุฉ ุงูููุงููุณ</h3>
            <p data-i18n="feat1Desc">ุฃุถู ูุนุฏูู ููุธูู ููุงููุณู ุจุทุฑููุฉ ุจุตุฑูุฉ ุฃูููุฉ</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" style="background: var(--grad-purple)">๐</div>
            <h3 data-i18n="feat2Title">ุฑูุน ุงููููุงุช</h3>
            <p data-i18n="feat2Desc">PDF, Word, PPT, ุตูุฑ, ููุฏูู, ุตูุช โ ูู ุงูุตูุบ ูุฏุนููุฉ</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" style="background: var(--grad-green)">๐ค</div>
            <h3 data-i18n="feat3Title">ุฐูุงุก ุงุตุทูุงุนู</h3>
            <p data-i18n="feat3Desc">ุงุณุฃู AI ุฃู ุณุคุงู ูุงุญุตู ุนูู ุฅุฌุงุจุงุช ููุฑูุฉ</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" style="background: var(--grad-orange)">๐งฎ</div>
            <h3 data-i18n="feat4Title">ุญุงุณุจุฉ ุงููุนุฏู</h3>
            <p data-i18n="feat4Desc">ุงุญุณุจ ูุนุฏูู ุงูุฏุฑุงุณู ูุงุญุตู ุนูู ุชุญููู ูุงูู</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" style="background: var(--grad-pink)">๐</div>
            <h3 data-i18n="feat5Title">3 ูุบุงุช</h3>
            <p data-i18n="feat5Desc">ุนุฑุจูุฉุ ุฅูุฌููุฒูุฉุ ูุฑูุณูุฉ ูุน ุฏุนู RTL</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" style="background: var(--grad-teal)">๐</div>
            <h3 data-i18n="feat6Title">ุงููุถุน ุงููููู</h3>
            <p data-i18n="feat6Desc">ุชุตููู ูุฑูุญ ููุนูู ูู ูู ุงูุฃููุงุช</p>
          </div>
        </div>
      </section>
    </div>

    <!-- LOGIN PAGE -->
    <div id="page-login" class="page">
      <div class="auth-page">
        <div class="auth-bg">
          <div class="auth-orb a1"></div>
          <div class="auth-orb a2"></div>
        </div>
        <div class="auth-card">
          <div class="auth-logo">๐</div>
          <h2 class="auth-title" data-i18n="welcomeBack">ูุฑุญุจุงู ุจุนูุฏุชู</h2>
          <p class="auth-sub" data-i18n="loginSub">ุณุฌูู ุงูุฏุฎูู ููุชุงุจุนุฉ ุฏุฑูุณู</p>
          <form id="login-form" onsubmit="handleLogin(event)">
            <div class="form-group">
              <label data-i18n="email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
              <input type="email" id="login-email" class="form-input" placeholder="example@email.com" required />
            </div>
            <div class="form-group">
              <label data-i18n="password">ูููุฉ ุงููุฑูุฑ</label>
              <div class="input-wrap">
                <input type="password" id="login-password" class="form-input" placeholder="โขโขโขโขโขโขโขโข" required />
                <button type="button" class="eye-btn" onclick="togglePass('login-password')">๐</button>
              </div>
            </div>
            <div class="form-options">
              <a href="#" class="forgot-link" onclick="showPage('forgot')" data-i18n="forgotPass">ูุณูุช ูููุฉ ุงููุฑูุฑุ</a>
            </div>
            <button type="submit" class="btn btn-primary btn-full" id="login-btn">
              <span data-i18n="login">ุชุณุฌูู ุงูุฏุฎูู</span>
              <span class="btn-spinner" id="login-spinner" style="display:none">โณ</span>
            </button>
          </form>
          <p class="auth-switch">
            <span data-i18n="noAccount">ููุณ ูุฏูู ุญุณุงุจุ</span>
            <a href="#" onclick="showPage('register')" data-i18n="createAccount"> ุฃูุดุฆ ุญุณุงุจุงู</a>
          </p>
        </div>
      </div>
    </div>

    <!-- REGISTER PAGE -->
    <div id="page-register" class="page">
      <div class="auth-page">
        <div class="auth-bg">
          <div class="auth-orb a1"></div>
          <div class="auth-orb a2"></div>
        </div>
        <div class="auth-card">
          <div class="auth-logo">๐</div>
          <h2 class="auth-title" data-i18n="createAccount">ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ</h2>
          <p class="auth-sub" data-i18n="registerSub">ุงูุถู ุงูุขู ูุงุจุฏุฃ ุฑุญูุชู ุงูุชุนููููุฉ</p>
          <form id="register-form" onsubmit="handleRegister(event)">
            <div class="form-group">
              <label data-i18n="fullName">ุงูุงุณู ุงููุงูู</label>
              <input type="text" id="reg-name" class="form-input" required />
            </div>
            <div class="form-group">
              <label data-i18n="email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
              <input type="email" id="reg-email" class="form-input" required />
            </div>
            <div class="form-group">
              <label data-i18n="password">ูููุฉ ุงููุฑูุฑ</label>
              <div class="input-wrap">
                <input type="password" id="reg-password" class="form-input" placeholder="6+ ุฃุญุฑู" required minlength="6" />
                <button type="button" class="eye-btn" onclick="togglePass('reg-password')">๐</button>
              </div>
            </div>
            <div class="form-group">
              <label data-i18n="confirmPass">ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ</label>
              <div class="input-wrap">
                <input type="password" id="reg-confirm" class="form-input" required />
                <button type="button" class="eye-btn" onclick="togglePass('reg-confirm')">๐</button>
              </div>
            </div>
            <button type="submit" class="btn btn-primary btn-full">
              <span data-i18n="createAccount">ุฅูุดุงุก ุงูุญุณุงุจ</span>
            </button>
          </form>
          <p class="auth-switch">
            <span data-i18n="haveAccount">ูุฏูู ุญุณุงุจุ</span>
            <a href="#" onclick="showPage('login')" data-i18n="login"> ุณุฌูู ุงูุฏุฎูู</a>
          </p>
        </div>
      </div>
    </div>

    <!-- FORGOT PASSWORD PAGE -->
    <div id="page-forgot" class="page">
      <div class="auth-page">
        <div class="auth-bg">
          <div class="auth-orb a1"></div>
          <div class="auth-orb a2"></div>
        </div>
        <div class="auth-card">
          <div class="auth-logo">๐</div>
          <h2 class="auth-title" data-i18n="resetPass">ุงุณุชุฑุฌุงุน ูููุฉ ุงููุฑูุฑ</h2>
          <p class="auth-sub" data-i18n="resetSub">ุฃุฏุฎู ุจุฑูุฏู ูุณูุฑุณู ูู ุฑุงุจุท ุฅุนุงุฏุฉ ุงูุชุนููู</p>
          <form id="forgot-form" onsubmit="handleForgot(event)">
            <div class="form-group">
              <label data-i18n="email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
              <input type="email" id="forgot-email" class="form-input" required />
            </div>
            <button type="submit" class="btn btn-primary btn-full">
              <span data-i18n="sendLink">ุฅุฑุณุงู ุงูุฑุงุจุท</span>
            </button>
          </form>
          <p class="auth-switch">
            <a href="#" onclick="showPage('login')" data-i18n="backToLogin">โ ุงูุนูุฏุฉ ูุชุณุฌูู ุงูุฏุฎูู</a>
          </p>
        </div>
      </div>
    </div>

    <!-- SUBJECTS PAGE -->
    <div id="page-subjects" class="page">
      <div class="inner-page">
        <div class="page-header">
          <div>
            <h1 data-i18n="mySubjects">ููุงููุณู</h1>
            <p data-i18n="subjectsSub">ูุธูู ูุฃุฏุฑ ููุงููุณู ุงูุฏุฑุงุณูุฉ</p>
          </div>
          <button class="btn btn-primary" onclick="openSubjectModal()">
            <span>+</span> <span data-i18n="addSubject">ุฅุถุงูุฉ ูููุงุณ</span>
          </button>
        </div>
        <div id="subjects-grid" class="subjects-grid">
          <div class="loading-placeholder">
            <div class="spinner"></div>
            <p data-i18n="loading">ุฌุงุฑู ุงูุชุญููู...</p>
          </div>
        </div>
      </div>
    </div>

    <!-- LESSONS PAGE -->
    <div id="page-lessons" class="page">
      <div class="inner-page">
        <div class="page-header">
          <div>
            <h1 data-i18n="myLessons">ุฏุฑูุณู</h1>
            <p data-i18n="lessonsSub">ุงุฑูุน ูุนุฑุถ ูููุงุช ุฏุฑูุณู</p>
          </div>
          <button class="btn btn-primary" onclick="openLessonModal()">
            <span>+</span> <span data-i18n="addLesson">ุฅุถุงูุฉ ุฏุฑุณ</span>
          </button>
        </div>
        <div class="filter-bar">
          <label data-i18n="filterBySubject">ุชุตููุฉ ุญุณุจ ุงููููุงุณ:</label>
          <select id="lesson-filter" class="form-select" onchange="filterLessons()">
            <option value="all" data-i18n="allSubjects">ุฌููุน ุงูููุงููุณ</option>
          </select>
        </div>
        <div id="lessons-grid" class="lessons-grid">
          <div class="loading-placeholder">
            <div class="spinner"></div>
            <p data-i18n="loading">ุฌุงุฑู ุงูุชุญููู...</p>
          </div>
        </div>
      </div>
    </div>

    <!-- CHAT PAGE -->
    <div id="page-chat" class="page">
      <div class="chat-layout">
        <div class="chat-sidebar">
          <div class="chat-sidebar-header">
            <span class="robot-icon">๐ค</span>
            <span data-i18n="aiAssistant">ูุณุงุนุฏ ุฐูู</span>
          </div>
          <button class="btn btn-primary btn-full" onclick="newChat()" style="margin:1rem;width:calc(100% - 2rem)">
            <span>+</span> <span data-i18n="newChat">ูุญุงุฏุซุฉ ุฌุฏูุฏุฉ</span>
          </button>
          <div id="chat-history" class="chat-history"></div>
        </div>
        <div class="chat-main">
          <div class="chat-header-bar">
            <span>๐ค</span>
            <span data-i18n="aiAssistant">ุงููุณุงุนุฏ ุงูุฐูู</span>
            <div class="chat-model-badge">Claude AI</div>
          </div>
          <div id="chat-messages" class="chat-messages">
            <div class="chat-welcome">
              <div class="welcome-robot">๐ค</div>
              <h3 data-i18n="chatWelcome">ูุฑุญุจุงู! ููู ูููููู ูุณุงุนุฏุชูุ</h3>
              <p data-i18n="chatWelcomeSub">ุงุณุฃููู ุฃู ุดูุก ุนู ุฏุฑูุณู ุฃู ุฃู ููุถูุน ุชุฑูุฏู</p>
              <div class="quick-prompts">
                <button class="quick-btn" onclick="sendQuickPrompt(this)">ุดุฑุญ ููููู ุฑูุงุถู</button>
                <button class="quick-btn" onclick="sendQuickPrompt(this)">ุชูุฎูุต ูุต</button>
                <button class="quick-btn" onclick="sendQuickPrompt(this)">ูุณุงุนุฏุฉ ูู ุงููุงุฌุจ</button>
                <button class="quick-btn" onclick="sendQuickPrompt(this)">Explain a concept</button>
              </div>
            </div>
          </div>
          <div class="chat-input-area">
            <div class="chat-input-wrap">
              <textarea id="chat-input" class="chat-textarea" placeholder="" data-i18n-placeholder="chatPlaceholder" rows="1" onkeydown="handleChatKey(event)" oninput="autoResize(this)"></textarea>
              <button class="chat-send-btn" onclick="sendMessage()" id="send-btn">
                <span>โค</span>
              </button>
            </div>
            <p class="chat-disclaimer" data-i18n="chatDisclaimer">ูุฏ ูุฑุชูุจ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุฃุฎุทุงุก โ ุชุญูู ุฏุงุฆูุงู ูู ุงููุนูููุงุช ุงููููุฉ</p>
          </div>
        </div>
      </div>
    </div>

    <!-- CALCULATOR PAGE -->
    <div id="page-calculator" class="page">
      <div class="inner-page">
        <div class="page-header">
          <div>
            <h1 data-i18n="gradeCalc">ุญุงุณุจุฉ ุงููุนุฏู</h1>
            <p data-i18n="calcSub">ุงุญุณุจ ูุนุฏูู ูุญูู ุฃุฏุงุกู ุงูุฏุฑุงุณู</p>
          </div>
        </div>
        <div class="calc-layout">
          <div class="calc-form-section">
            <div class="calc-card">
              <h3 data-i18n="gradesInput">ุฅุฏุฎุงู ุงูุฏุฑุฌุงุช</h3>
              <div id="grades-list">
                <div class="grade-row">
                  <input type="text" class="form-input" placeholder="" data-i18n-placeholder="subjectName">
                  <input type="number" class="form-input" placeholder="" data-i18n-placeholder="grade" min="0" max="20">
                  <input type="number" class="form-input" placeholder="" data-i18n-placeholder="coefficient" min="1" max="10" value="1">
                  <button class="btn-icon danger" onclick="removeGradeRow(this)">๐</button>
                </div>
              </div>
              <button class="btn btn-outline btn-full" onclick="addGradeRow()" style="margin-top:1rem">
                + <span data-i18n="addGrade">ุฅุถุงูุฉ ูุงุฏุฉ</span>
              </button>
              <button class="btn btn-primary btn-full" onclick="calculateGrades()" style="margin-top:1rem">
                <span data-i18n="calculate">ุงุญุณุจ ุงููุนุฏู</span>
              </button>
            </div>
          </div>
          <div class="calc-result-section" id="calc-results" style="display:none">
            <div class="result-card">
              <div class="result-circle" id="result-circle">
                <span id="result-score">0.00</span>
                <small>/20</small>
              </div>
              <h3 id="result-mention" class="result-mention"></h3>
              <div class="result-bars" id="result-bars"></div>
              <div class="result-analysis" id="result-analysis"></div>
              <div class="result-tips" id="result-tips"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ADMIN PAGE -->
    <div id="page-admin" class="page">
      <div class="inner-page">
        <div class="page-header">
          <div>
            <h1 data-i18n="adminPanel">ููุญุฉ ุงูุฅุฏุงุฑุฉ</h1>
            <p data-i18n="adminSub">ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงููุญุชูู</p>
          </div>
        </div>
        <div class="admin-stats-grid">
          <div class="admin-stat-card">
            <div class="admin-stat-icon">๐ฅ</div>
            <div class="admin-stat-info">
              <span id="total-users" class="admin-stat-num">โ</span>
              <span data-i18n="totalUsers">ุฅุฌูุงูู ุงููุณุชุฎุฏููู</span>
            </div>
          </div>
          <div class="admin-stat-card">
            <div class="admin-stat-icon">๐</div>
            <div class="admin-stat-info">
              <span id="total-subjects" class="admin-stat-num">โ</span>
              <span data-i18n="totalSubjects">ุฅุฌูุงูู ุงูููุงููุณ</span>
            </div>
          </div>
          <div class="admin-stat-card">
            <div class="admin-stat-icon">๐</div>
            <div class="admin-stat-info">
              <span id="total-files" class="admin-stat-num">โ</span>
              <span data-i18n="totalFiles">ุฅุฌูุงูู ุงููููุงุช</span>
            </div>
          </div>
        </div>
        <div class="admin-section">
          <h3 data-i18n="manageUsers">ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</h3>
          <div id="users-table-wrap">
            <div class="loading-placeholder"><div class="spinner"></div></div>
          </div>
        </div>
      </div>
    </div>

    <!-- ABOUT PAGE -->
    <div id="page-about" class="page">
      <div class="about-page">
        <div class="about-hero">
          <div class="about-orb"></div>
          <div class="about-content">
            <div class="about-avatar">ุฏุฃ</div>
            <h1 data-i18n="aboutTitle">ุญูู ุงููุดุฑูุน</h1>
            <div class="about-owner-info">
              <h2>ุฏุญู ุฃุณุงูุฉ</h2>
              <p class="about-uni">๐ <span data-i18n="university">ุฌุงูุนุฉ ุงููุนุงูุฉ</span></p>
            </div>
          </div>
        </div>
        <div class="about-cards">
          <div class="about-card">
            <div class="about-card-icon">๐ฏ</div>
            <h3 data-i18n="projectGoal">ูุฏู ุงููุดุฑูุน</h3>
            <p data-i18n="projectGoalDesc">ุชุตููู ููุตุฉ ุชุนููููุฉ ุดุงููุฉ ุชุณุงุนุฏ ุงูุทูุงุจ ุนูู ุชูุธูู ุฏุฑูุณููุ ุฑูุน ูููุงุชููุ ูุงูุงุณุชูุงุฏุฉ ูู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูู ุฏุฑุงุณุชูู</p>
          </div>
          <div class="about-card">
            <div class="about-card-icon">๐</div>
            <h3 data-i18n="techUsed">ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ</h3>
            <div class="tech-tags">
              <span class="tech-tag">HTML5</span>
              <span class="tech-tag">CSS3</span>
              <span class="tech-tag">JavaScript</span>
              <span class="tech-tag">Supabase</span>
              <span class="tech-tag">Claude AI</span>
            </div>
          </div>
          <div class="about-card">
            <div class="about-card-icon">โจ</div>
            <h3 data-i18n="features">ุงููููุฒุงุช</h3>
            <ul class="about-list">
              <li data-i18n="feat1Title">ุฅุฏุงุฑุฉ ุงูููุงููุณ</li>
              <li data-i18n="feat2Title">ุฑูุน ุงููููุงุช</li>
              <li data-i18n="feat3Title">ุงูุฐูุงุก ุงูุงุตุทูุงุนู</li>
              <li data-i18n="feat4Title">ุญุงุณุจุฉ ุงููุนุฏู</li>
              <li>Dark Mode</li>
              <li data-i18n="feat5Title">3 ูุบุงุช</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  </main>

  <!-- ===== MODALS ===== -->

  <!-- Subject Modal -->
  <div id="subject-modal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 id="subject-modal-title" data-i18n="addSubject">ุฅุถุงูุฉ ูููุงุณ</h3>
        <button class="modal-close" onclick="closeModal('subject-modal')">โ</button>
      </div>
      <form id="subject-form" onsubmit="saveSubject(event)">
        <div class="form-group">
          <label data-i18n="subjectName">ุงุณู ุงููููุงุณ</label>
          <input type="text" id="subject-name" class="form-input" required />
        </div>
        <div class="form-group">
          <label data-i18n="subjectColor">ุงูููู</label>
          <div class="color-picker">
            <div class="color-opt active" data-color="#6366f1" style="background:#6366f1" onclick="selectColor('#6366f1', this)"></div>
            <div class="color-opt" data-color="#10b981" style="background:#10b981" onclick="selectColor('#10b981', this)"></div>
            <div class="color-opt" data-color="#f59e0b" style="background:#f59e0b" onclick="selectColor('#f59e0b', this)"></div>
            <div class="color-opt" data-color="#ef4444" style="background:#ef4444" onclick="selectColor('#ef4444', this)"></div>
            <div class="color-opt" data-color="#8b5cf6" style="background:#8b5cf6" onclick="selectColor('#8b5cf6', this)"></div>
            <div class="color-opt" data-color="#06b6d4" style="background:#06b6d4" onclick="selectColor('#06b6d4', this)"></div>
            <div class="color-opt" data-color="#f97316" style="background:#f97316" onclick="selectColor('#f97316', this)"></div>
            <div class="color-opt" data-color="#ec4899" style="background:#ec4899" onclick="selectColor('#ec4899', this)"></div>
          </div>
          <input type="hidden" id="subject-color" value="#6366f1" />
        </div>
        <div class="form-group">
          <label data-i18n="subjectIcon">ุงูุฑูุฒ</label>
          <div class="emoji-picker">
            <span onclick="selectEmoji('๐',this)" class="emoji-opt active">๐</span>
            <span onclick="selectEmoji('๐ฌ',this)" class="emoji-opt">๐ฌ</span>
            <span onclick="selectEmoji('๐งฎ',this)" class="emoji-opt">๐งฎ</span>
            <span onclick="selectEmoji('๐ป',this)" class="emoji-opt">๐ป</span>
            <span onclick="selectEmoji('๐',this)" class="emoji-opt">๐</span>
            <span onclick="selectEmoji('๐',this)" class="emoji-opt">๐</span>
            <span onclick="selectEmoji('โก',this)" class="emoji-opt">โก</span>
            <span onclick="selectEmoji('๐จ',this)" class="emoji-opt">๐จ</span>
            <span onclick="selectEmoji('๐ฟ',this)" class="emoji-opt">๐ฟ</span>
            <span onclick="selectEmoji('๐',this)" class="emoji-opt">๐</span>
          </div>
          <input type="hidden" id="subject-icon" value="๐" />
        </div>
        <div class="form-group">
          <label data-i18n="coefficient">ุงููุนุงูู</label>
          <input type="number" id="subject-coefficient" class="form-input" min="1" max="10" value="1" />
        </div>
        <input type="hidden" id="subject-id" value="" />
        <div class="modal-footer">
          <button type="button" class="btn btn-outline" onclick="closeModal('subject-modal')" data-i18n="cancel">ุฅูุบุงุก</button>
          <button type="submit" class="btn btn-primary" data-i18n="save">ุญูุธ</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Lesson Modal -->
  <div id="lesson-modal" class="modal-overlay">
    <div class="modal">
      <div class="modal-header">
        <h3 id="lesson-modal-title" data-i18n="addLesson">ุฅุถุงูุฉ ุฏุฑุณ</h3>
        <button class="modal-close" onclick="closeModal('lesson-modal')">โ</button>
      </div>
      <form id="lesson-form" onsubmit="saveLesson(event)">
        <div class="form-group">
          <label data-i18n="lessonTitle">ุนููุงู ุงูุฏุฑุณ</label>
          <input type="text" id="lesson-title-input" class="form-input" required />
        </div>
        <div class="form-group">
          <label data-i18n="subject">ุงููููุงุณ</label>
          <select id="lesson-subject-sel" class="form-select" required></select>
        </div>
        <div class="form-group">
          <label data-i18n="lessonDesc">ุงููุตู (ุงุฎุชูุงุฑู)</label>
          <textarea id="lesson-desc" class="form-textarea" rows="2"></textarea>
        </div>
        <div class="form-group">
          <label data-i18n="uploadFile">ุฑูุน ููู</label>
          <div class="upload-zone" id="upload-zone" onclick="document.getElementById('file-input').click()" ondragover="dragOver(event)" ondrop="dropFile(event)">
            <div class="upload-icon">๐ค</div>
            <p data-i18n="uploadText">ุงุณุญุจ ุงูููู ููุง ุฃู ุงุถุบุท ููุงุฎุชูุงุฑ</p>
            <small>PDF, Word, PPT, PNG, JPG, MP4, MP3, TXT</small>
            <input type="file" id="file-input" style="display:none" accept=".pdf,.doc,.docx,.ppt,.pptx,.png,.jpg,.jpeg,.mp4,.mp3,.wav,.txt" onchange="handleFileSelect(event)" />
          </div>
          <div id="file-preview" class="file-preview" style="display:none"></div>
        </div>
        <div class="upload-progress" id="upload-progress" style="display:none">
          <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
          <span id="progress-text">0%</span>
        </div>
        <input type="hidden" id="lesson-id" value="" />
        <div class="modal-footer">
          <button type="button" class="btn btn-outline" onclick="closeModal('lesson-modal')" data-i18n="cancel">ุฅูุบุงุก</button>
          <button type="submit" class="btn btn-primary" data-i18n="save">ุญูุธ</button>
        </div>
      </form>
    </div>
  </div>

  <!-- File Viewer Modal -->
  <div id="viewer-modal" class="modal-overlay viewer-overlay">
    <div class="modal viewer-modal">
      <div class="modal-header">
        <h3 id="viewer-title">ุนุฑุถ ุงูููู</h3>
        <div class="viewer-actions">
          <a id="viewer-download" href="#" download class="btn btn-outline-sm" data-i18n="download">ุชุญููู</a>
          <button class="modal-close" onclick="closeModal('viewer-modal')">โ</button>
        </div>
      </div>
      <div id="viewer-content" class="viewer-content"></div>
    </div>
  </div>

  <!-- Confirm Modal -->
  <div id="confirm-modal" class="modal-overlay">
    <div class="modal modal-sm">
      <div class="modal-header">
        <h3 id="confirm-title" data-i18n="confirmDelete">ุชุฃููุฏ ุงูุญุฐู</h3>
        <button class="modal-close" onclick="closeModal('confirm-modal')">โ</button>
      </div>
      <p id="confirm-message" data-i18n="confirmMsg">ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ูุฐุง ุงูุนูุตุฑุ</p>
      <div class="modal-footer">
        <button class="btn btn-outline" onclick="closeModal('confirm-modal')" data-i18n="cancel">ุฅูุบุงุก</button>
        <button class="btn btn-danger" id="confirm-ok-btn" data-i18n="delete">ุญุฐู</button>
      </div>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html>
